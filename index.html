<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="style.css" rel="stylesheet">
    <!-- <script>
        var grid=[]
        var medium=[
            ['','','','',3,1,'','',''],['','',7,6,4,'','',8,''],['','',3,'','','','','',9],
            ['','',8,'',6,'',1,4,''],[5,'',1,'','','',2,9,''],[4,'',9,'',8,'','',7,''],
            ['',3,'','','','',5,'',7],[7,'','',2,'','','',3,6],[1,'','','','','',8,2,'']
        ]
        var hard=[
        [3,'','','','','','','',''],['',7,9,'',6,'','','',''],[5,'',6,'','',7,'',1,''],
            ['',5,8,'','',2,'','',''],['','',3,'','',8,'',6,2],['',9,'',6,'','','',3,''],
            ['','','','','',1,'',4,5],[8,1,'','',3,'','','',6],['',3,'','',2,'',8,'','']
        ]

        var easy=[
        [6,'','',8,2,7,5,'',9],[2,5,'','',4,'','',3,''],['',8,'','','',1,'',7,2],
            ['','',2,4,'','','','',7],['','',6,7,5,'','',8,''],[7,4,5,2,1,'','','',''],
            [5,6,1,'',7,'',9,2,8],[4,'','','','','','','',3],['','','',9,'',2,'',1,'']
        ]
        function mediumSet(){
            var tds=document.querySelectorAll('td')
            var trs=document.querySelectorAll('tr')
            console.log(tds)
            for(var i=0;i<81;i++)
            tds[i].style.background='none'
            for(var i=0;i<9;i++)
            trs[i].style.background='none'
        var k=1
        for(var i=0;i<9;i++){
            for(var j=0;j<9;j++){
            var id='cell-'+k
            // console.log(id)
            if(medium[i][j]!==''){
            document.getElementById(id).disabled=true
            document.getElementById(id).style.background='#e8e9e2'
        }
        
        else{
            document.getElementById(id).disabled=false
            document.getElementById(id).style.background='none'
        }
            document.getElementById(id).value=medium[i][j]
            k++
        }
        }
    }
        function easySet(){
            var tds=document.querySelectorAll('td')
            var trs=document.querySelectorAll('tr')
            console.log(tds)
            for(var i=0;i<81;i++)
            tds[i].style.background='none'
            for(var i=0;i<9;i++)
            trs[i].style.background='none'
        var k=1
        for(var i=0;i<9;i++){
            for(var j=0;j<9;j++){
            var id='cell-'+k
            // console.log(id)
            if(easy[i][j]!==''){
            document.getElementById(id).disabled=true
            document.getElementById(id).style.background='#e8e9e2'
        }
        else{
            console.log(id)
            document.getElementById(id).disabled=false
            document.getElementById(id).style.background='none'
        }
            document.getElementById(id).value=easy[i][j]
            k++
        }
        }
    }

        function hardSet(){
            var tds=document.querySelectorAll('td')
            var trs=document.querySelectorAll('tr')
            console.log(tds)
            for(var i=0;i<81;i++)
            tds[i].style.background='none'
            for(var i=0;i<9;i++)
            trs[i].style.background='none'
        var k=1
        for(var i=0;i<9;i++){
            for(var j=0;j<9;j++){
            var id='cell-'+k
            // console.log(id)
            if(hard[i][j]!==''){
            document.getElementById(id).disabled=true
            document.getElementById(id).style.background='#e8e9e2'
        }
        else{
            document.getElementById(id).disabled=false
            document.getElementById(id).style.background='none'
        }
            document.getElementById(id).value=hard[i][j]
            k++
        }
        }
    }

        function validateGame(){
            // grid=[]
            // var k=1
            // for(var i=0;i<9;i++){
            //     var arr=[]
            //     for(var j=0;j<9;j++){
            //         id='cell-'+k
            //         arr.push(document.getElementById(id).value)
            //         k++
            //     }
            //     grid.push(arr)
            // }
            // console.log(grid)
            updateGrid()
            var rs=rowSum()
            var cs=colSum()
            var bs=boxSum()
            var rd=rowDuplicate()
            var cd=colDuplicate()
            var bd=boxDuplicate()
            console.log(grid)
            console.log(rs+''+cs+''+bs+''+rd+''+cd+''+bd)
            if(rs&&cs&&bs&&rd&&cd&&bd){
            alert('YOU SOLVED IT!!')
            easySet()
        }
            else
            alert("OOPS WRONG!!\nDON'T WORRY TRY AGAIN")
        }
  
        function rowDuplicate(){
            var c=0
            for(var i=0;i<9;i++){
                var set=new Set(grid[i])
                if(set.size!==9)
                c++
            }
            if(c===0)
            return true
            else
            return false
        }

        function colDuplicate(){
            var c=0
            for(var i=0;i<9;i++){
                var set=new Set()
                for(var j=0;j<9;j++){
                    set.add(grid[j][i])
                }
                if(set.size!==9)
                c++
            }
            if(c===0)
            return true
            else
            return false
        }
        
        function boxDuplicate(){
            var startrow=0,startcol=0,c=0,d=0
            for(var i=0;i<9;i++){
                var set=new Set()
                c++
                for(var j=startrow;j<startrow+3;j++){
                    for(var k=startcol;k<startcol+3;k++){
                        set.add(grid[j][k])
                    }
                }
                startcol+=3
                if(c%3===0){
                startrow+=3
                startcol=0
            }
            if(set.size!==9)
            d++
            // console.log(startrow+' '+startcol)
            }
            if(d===0)
            return true
            else
            return false
            // console.log(boxsum)
        }
        

        function rowSum(){
            var rowssum=[]
            var s=0,c=0
            for(var i=0;i<9;i++){
                s=0
                for(var j=0;j<9;j++){
                s+=Number(grid[i][j])
                }
                // rowssum.push(s)
                if(s===45)
                c++
            }
            if(c===9)
            return true
            else
            return false
            // console.log(rowssum)
        }
        
        function colSum(){
            var colssum=[]
            var s=0,c=0
            for(var i=0;i<9;i++){
                s=0
                for(var j=0;j<9;j++){
                s+=Number(grid[j][i])
                }
                // colssum.push(s)
                if(s===45)
                c++
            }
            if(c===9)
            return true
            else
            return false
            // console.log(colssum)
        }
        
        function updateGrid(){
            grid=[]
            var k=1
            for(var i=0;i<9;i++){
                var arr=[]
                for(var j=0;j<9;j++){
                    id='cell-'+k
                    arr.push(document.getElementById(id).value)
                    k++
                }
                grid.push(arr)
            }
            console.log('grid')
        }


        function highlight(val){
            var inputs=document.querySelectorAll('td>input')
            for(var i=0;i<81;i++){
                if(inputs[i].value===(val))
                inputs[i].style.background='#8abdff'
                else
                inputs[i].style.background='none'
            }
        }

        function checkDuplicate(key,iv){
            var cellno=iv.id.slice(5,iv.id.length+1)
            var row=Math.floor(cellno/9)+1
            var col=cellno%9
            if(col===0){
            row--
                col=9
            }
            for(var i=0;i<9;i++){
                if(grid[row-1][i]===key)
                return false
            }
            for(var i=0;i<9;i++){
                if(grid[i][col-1]===key)
                return false
            }
            console.log(col+' '+row)
            var startRow=(row-1)-(row-1)%3
            var startCol=(col-1)-(col-1)%3
            for(var i=startRow;i<startRow+3;i++){
                for(var j=startCol;j<startCol+3;j++)
                if(grid[i][j]===key)
                return false
            }
            return true
        }

        function boxSum(){
            var s,boxsum=[]
            var startrow=0,startcol=0,c=0,d=0
            for(var i=0;i<9;i++){
                s=0
                c++
                for(var j=startrow;j<startrow+3;j++){
                    for(var k=startcol;k<startcol+3;k++){
                        s+=Number(grid[j][k])
                    }
                }
                startcol+=3
                if(c%3===0){
                startrow+=3
                startcol=0
            }
            // console.log(startrow+' '+startcol)
            // boxsum.push(s)
            if(s===45)
            d++
            }
            if(d===9)
            return true
            else
            return false
            // console.log(boxsum)
        }
        function checknum(ev,v){
            updateGrid()
            console.log(v.id)
            var cd=checkDuplicate(ev.key,v)
            // var rd=rowCheck(ev.key,v)
            // var cd=colCheck(ev.key)
            // var bd=boxCheck(ev.key)
            // console.log(rd+''+cd+''+bd)
            // console.log(rd+''+cd+''+bd)
            if(ev.which>48 && ev.which<=57 && cd){
                console.log('h')
                v.value=ev.key
                highlight(ev.key)
                return true}
            else
            return false
        }
        
        function changeBg(iv){
            // console.log(iv.id.slice(5,iv.id.length+1))
            var cellno=iv.id.slice(5,iv.id.length+1)
            var row=Math.floor(cellno/9)+1
            var col=cellno%9
            if(col===0){
            row--
                col=9
            }
            var k=col
            var tds=document.querySelectorAll('td')
            // var trs=document.querySelectorAll('tr')

            for(var i=0;i<81;i++){
            // console.log(tds[i])
            tds[i].firstChild.style.background='none'
            if(tds[i].firstChild.disabled!==true){
            tds[i].style.background='none'
            
        }
            else
            tds[i].style.background='#e8e9e2'
        }
            
        //     for(var i=0;i<9;i++){
        //         console.log('trsss'+trs[i])
        //     if(trs[i].disabled!==true)
        //     trs[i].style.background='none'
        //     else
        //     trs[i].style.background='#e8e9e2'
        // }
            
            var inp=document.querySelectorAll('tr:nth-child('+row+')>td>input')
            for(var i=0;i<9;i++){
                document.getElementById('cell-'+k).style.background='#bbdefb'
                inp[i].style.background='#bbdefb'
                k+=9
            }
        }

    </script> -->
    <script src='script.js'></script>
</head>
<body onload="easySet()">
    <h1 style="text-align: center;font-size: 5vw;margin: 0;">SUDOKU</h1>
    <div class='difficulty'>
        <button onclick="easySet()"><b>Easy</b></button>
        <button onclick="mediumSet()"><b>Medium</b></button>
        <button onclick="hardSet()"><b>Hard</b></button>
    </div>
    <table>
        <tbody>
            <tr>
                <td><input id='cell-1' type="text" maxlength="1" value="" min="1" max="9" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-2' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-3' type="text" maxlength="1" min="1" max="9" value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-4' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-5' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-6' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-7' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-8' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-9' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr>
                <td><input id='cell-10' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-11' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-12' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-13' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-14' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-15' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-16' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-17' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-18' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr class="dark-down-border">
                <td><input id='cell-19' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-20' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-21' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-22' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-23' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-24' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-25' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-26' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-27' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr>
                <td><input id='cell-28' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-29' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-30' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-31' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-32' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-33' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-34' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-35' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-36' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr>
                <td><input id='cell-37' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-38' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-39' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-40' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-41' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-42' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-43' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-44' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-45' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr class="dark-down-border">
                <td><input id='cell-46' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-47' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-48' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-49' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-50' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-51' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-52' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-53' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-54' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr>
                <td><input id='cell-55' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-56' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-57' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-58' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-59' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-60' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-61' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-62' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-63' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr>
                <td><input id='cell-64' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-65' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-66' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-67' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-68' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-69' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-70' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-71' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-72' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
            <tr>
                
                <td><input id='cell-73' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-74' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class='third'><input id='cell-75' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-76' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-77' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td class="sixth"><input id='cell-78' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-79' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-80' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
                <td><input id='cell-81' type="text" maxlength="1" min="1" max="9"  value="" onfocus="changeBg(this)" onkeypress="return checknum(event,this)"></td>
            </tr>
        </tbody>
    </table>
    <div style='text-align: center;'>
    <button onclick="validateGame()"><b>Validate</b></button>
    <button onclick="reset()"><b>Reset</b></button>
    </div>
</body>
</html>